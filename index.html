<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mirror-based Camera Pose Estimation Using an Orthogonality Constraint by computer-vision</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mirror-based Camera Pose Estimation Using an Orthogonality Constraint</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/computer-vision/takahashi2012cvpr" class="btn">View on GitHub</a>
      <a href="https://github.com/computer-vision/takahashi2012cvpr/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/computer-vision/takahashi2012cvpr/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h3>

<p>This page provides an implementation of our mirror-based camera calibration algorithm presented as</p>

<pre><code>K. Takahashi, S. Nobuhara and T. Matsuyama: A New Mirror-based Extrinsic Camera Calibration Using an Orthogonality Constraint, CVPR2012
</code></pre>

<p>and</p>

<pre><code>K. Takahashi, S. Nobuhara and T. Matsuyama: Mirror-based Camera Pose Estimation Using an Orthogonality Constraint, IPSJ Transactions on Computer Vision and Applications, Vol.8, pp.11--19, 2016
</code></pre>

<ul>
<li>paper: [CVPR] <a href="http://doi.org/10.2197/ipsjtcva.8.11">Journal</a>
</li>
<li>movie:</li>
<li>bibtex:</li>
</ul>

<pre><code>@inproceedings{takahashi12new,
  title = {A New Mirror-based Extrinsic Camera Calibration Using an Orthogonality Constraint},
  author = {Kosuke Takahashi and Shohei Nobuhara and Takashi Matsuyama},
  booktitle = {Proc.\ of CVPR},
  year = {2012},
}
</code></pre>

<p>The motivation of this project is to calibrate a camera w.r.t. a reference object which is not observable from the camera. This happens, for example, in display-camera systems such as digital signage, webcam attached to laptop PC, etc. Once obtained the mapping between the display pixel coordinate system and the camera coordinate system, it becomes possible to compute the gazing point (pixel) of a person in front of the display by estimating the gazing direction in the camera coordinate system. This scenario allows the person to move freely, while conventional methods typically restrict the head position to be fixed.</p>

<p>The key point to solve the problem is the use of mirrored images. Suppose we have a single static camera CC and a static reference object XX as shown below. The camera CC cannot observe the reference object XX directly. Instead, we use a mirror ππ and let the camera CC observe the reference object XX through it. The goal of our mirror-based calibration is to estimate the relative posture RR and position TT of the camera CC against the reference object XX by observing three points of XX via three mirrors πj(j=1,2,3)πj(j=1,2,3) under different unknown positions and orientations.</p>

<h1>
<a id="source-code" class="anchor" href="#source-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Source code</h1>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>This source code is provided under the <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD 3-Clause license</a>.</p>

<pre><code>Copyright (c) 2012, Kosuke Takahashi, Shohei Nobuhara and Takashi Matsuyama
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the distribution.
   * Neither the name of the Graduate School of Informatics, Kyoto
     University, Japan nor the names of its contributors may be used to
     endorse or promote products derived from this software without specific
     prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.
</code></pre>

<h2>
<a id="download-links" class="anchor" href="#download-links" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download links</h2>

<p>If you use this software, please consider citing the aforementioned paper in any resulting publication.</p>

<ul>
<li>Matlab version with test data: tnm-matlab.zip (tested with Matlab 2011b and 2012a. Also compatible with GNU Octave v3.6 + Octave-Forge)</li>
<li>OpenCV version with test data: tnm-opencv.zip (tested with Debian wheezy + libcv-dev package)</li>
</ul>

<h1>
<a id="how-to-use-the-matlab-version-with-sample-data" class="anchor" href="#how-to-use-the-matlab-version-with-sample-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use the Matlab version with sample data</h1>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>After unzipping the downloaded file, you will have the following files in a single directory named "tnm".</p>

<ul>
<li>
<code>data/input{1,2,3}.png</code> : Three input images. They are the original pictures WITH lens distortions.</li>
<li>
<code>data/input{1,2,3}.txt</code> : Three input data points extracted from <code>input{1,2,3}.png</code>. The points are taken from undistorted images.</li>
<li>
<code>camera.txt</code> : The intrinsic parameter of the camera.</li>
<li>
<code>model.txt</code> : The reference object.</li>
<li>
<code>demo.m</code> : A demo program to run our method.</li>
<li>
<code>tnm.m</code> : An implementation of our calibration method.</li>
<li>
<code>sub_p3p.m</code> : A sub-function called from <code>tnm.m</code> to solve P3P problem.</li>
<li>
<code>sub_tnm_orth.m</code> : A sub-function called from <code>tnm.m</code>.</li>
<li>
<code>sub_tnm_rt.m</code> : A sub-function called from <code>tnm.m</code>.</li>
<li>
<code>sub_reproj.m</code> : To calc reprojection error.</li>
</ul>

<p>Start Matlab, and change the working directory to the "tnm" directory. Run <code>demo.m</code> and you should see the following outputs and a pop-up window that visualizes the results.</p>

<pre><code>&gt; demo.m
Average reprojection error by TNM : 0.353531 pixel.

==== Parameters by TNM ====
R =
    0.9552   -0.0316   -0.2942
    0.0262    0.9994   -0.0221
    0.2947    0.0134    0.9555
T =
   71.6716
   84.3404
  120.2696
n1 =
    0.2679
    0.0307
   -0.9629
n2 =
    0.4356
    0.0844
   -0.8962
n3 =
   -0.0443
   -0.0112
   -0.9990
d1 =
  386.2302
d2 =
  355.0478
d3 =
  404.7066
</code></pre>

<h2>
<a id="brief-descriptions-of-the-code" class="anchor" href="#brief-descriptions-of-the-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Brief descriptions of the code</h2>

<h3>
<a id="tnmm--top-level-driver" class="anchor" href="#tnmm--top-level-driver" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>tnm.m</code> : top-level driver</h3>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/computer-vision/takahashi2012cvpr">Mirror-based Camera Pose Estimation Using an Orthogonality Constraint</a> is maintained by <a href="https://github.com/computer-vision">computer-vision</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
